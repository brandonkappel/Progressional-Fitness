{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./workouts.service\";\nimport * as i2 from \"src/app/auth/auth.service\";\nimport * as i3 from \"../clients/clients.service\";\nimport * as i4 from \"../programs/programs.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@angular/material/form-field\";\nimport * as i9 from \"@angular/material/card\";\nimport * as i10 from \"@angular/material/button\";\nimport * as i11 from \"@angular/material/expansion\";\nimport * as i12 from \"@angular/material/progress-spinner\";\nimport * as i13 from \"@angular/material/paginator\";\nimport * as i14 from \"@angular/material/select\";\nimport * as i15 from \"@angular/material/core\";\nfunction WorkoutsComponent_mat_spinner_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\");\n  }\n}\nfunction WorkoutsComponent_mat_option_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", user_r6.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\" \", user_r6.firstName, \" \", user_r6.lastName, \" (\", user_r6.email, \") \");\n  }\n}\nfunction WorkoutsComponent_mat_option_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const program_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", program_r7.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", program_r7.name, \" \");\n  }\n}\nfunction WorkoutsComponent_mat_accordion_35_mat_expansion_panel_1_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Public \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction WorkoutsComponent_mat_accordion_35_mat_expansion_panel_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Program Workout \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction WorkoutsComponent_mat_accordion_35_mat_expansion_panel_1_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Private \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/editWorkout\", a1];\n};\nfunction WorkoutsComponent_mat_accordion_35_mat_expansion_panel_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-expansion-panel\")(1, \"mat-expansion-panel-header\")(2, \"mat-panel-title\")(3, \"div\")(4, \"strong\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"mat-panel-description\");\n    i0.ɵɵtemplate(7, WorkoutsComponent_mat_accordion_35_mat_expansion_panel_1_div_7_Template, 2, 0, \"div\", 0);\n    i0.ɵɵtemplate(8, WorkoutsComponent_mat_accordion_35_mat_expansion_panel_1_div_8_Template, 2, 0, \"div\", 0);\n    i0.ɵɵtemplate(9, WorkoutsComponent_mat_accordion_35_mat_expansion_panel_1_div_9_Template, 2, 0, \"div\", 0);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\")(11, \"strong\");\n    i0.ɵɵtext(12, \" Creator: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13);\n    i0.ɵɵelementStart(14, \"strong\");\n    i0.ɵɵtext(15, \" Date: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"date\");\n    i0.ɵɵelementStart(18, \"strong\");\n    i0.ɵɵtext(19, \" Client: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20);\n    i0.ɵɵelementStart(21, \"strong\");\n    i0.ɵɵtext(22, \" Program: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"mat-action-row\")(25, \"a\", 19);\n    i0.ɵɵtext(26, \"EDIT\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function WorkoutsComponent_mat_accordion_35_mat_expansion_panel_1_Template_button_click_27_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const workout_r9 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.onDelete(workout_r9[\"id\"]));\n    });\n    i0.ɵɵtext(28, \"DELETE\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const workout_r9 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", workout_r9.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", workout_r9.program == null && workout_r9.client == null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", workout_r9.program != null && workout_r9.client == null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", workout_r9.program == null && workout_r9.client != null);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", workout_r9.creator, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(17, 9, workout_r9.date, \"EEEE, MMMM d, y\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", workout_r9.client, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", workout_r9.program, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(12, _c0, workout_r9[\"id\"]));\n  }\n}\nfunction WorkoutsComponent_mat_accordion_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-accordion\", 17);\n    i0.ɵɵtemplate(1, WorkoutsComponent_mat_accordion_35_mat_expansion_panel_1_Template, 29, 14, \"mat-expansion-panel\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.workouts);\n  }\n}\nfunction WorkoutsComponent_mat_paginator_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-paginator\", 21);\n    i0.ɵɵlistener(\"page\", function WorkoutsComponent_mat_paginator_36_Template_mat_paginator_page_0_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.onChangedPage($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"length\", ctx_r4.totalWorkouts)(\"pageSize\", ctx_r4.workoutsPerPage)(\"pageSizeOptions\", ctx_r4.pageSizeOptions);\n  }\n}\nfunction WorkoutsComponent_p_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 22);\n    i0.ɵɵtext(1, \"No Posts Added Yet\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c1 = function () {\n  return [\"/fitness\"];\n};\nexport let WorkoutsComponent = /*#__PURE__*/(() => {\n  class WorkoutsComponent {\n    constructor(workoutService, authService, clientService, programService) {\n      this.workoutService = workoutService;\n      this.authService = authService;\n      this.clientService = clientService;\n      this.programService = programService;\n      this.workouts = [];\n      this.isLoading = false;\n      this.workoutsPerPage = 10;\n      this.currentPage = 1;\n      this.totalWorkouts = 0;\n      this.userIsAuthenticated = false;\n      this.pageSizeOptions = [1, 2, 5, 10];\n    }\n    ngOnInit() {\n      this.workoutType = 'all';\n      this.selectedClient = 'all';\n      this.selectedProgram = 'all';\n      this.getData();\n    }\n    getData() {\n      this.isLoading = true;\n      this.userIsAuthenticated = this.authService.getIsAuth();\n      this.authStatusSub = this.authService.getAuthStatusListener().subscribe(isAuthenticated => {\n        this.userIsAuthenticated = isAuthenticated;\n        this.userId = this.authService.getUserId();\n      });\n      this.workoutService.getWorkouts(this.workoutsPerPage, this.currentPage, this.workoutType, this.selectedClient, this.selectedProgram);\n      this.workoutSub = this.workoutService.getWorkoutUpdatedListener().subscribe(workoutData => {\n        this.isLoading = false;\n        this.totalWorkouts = workoutData.workoutCount;\n        this.workouts = workoutData.workouts;\n        // console.error(this.workouts);\n      });\n\n      this.clientService.getUsers(this.usersPerPage, this.currentPage);\n      this.usersSub = this.clientService.getUserUpdatedListener().subscribe(userData => {\n        this.isLoading = false;\n        this.totalUsers = userData.userCount;\n        this.users = userData.users;\n      });\n      this.programService.getPrograms();\n      this.programService.getProgramUpdatedListener().subscribe(programData => {\n        this.programs = programData.programs;\n        // console.error(this.programs)\n      });\n    }\n\n    onChangedPage(pageData) {\n      this.isLoading = true;\n      this.currentPage = pageData.pageIndex + 1;\n      this.workoutsPerPage = pageData.pageSize;\n      this.workoutService.getWorkouts(this.workoutsPerPage, this.currentPage, 'all', 'all', 'all');\n    }\n    workoutTypeSelect(e) {\n      this.workoutType = e;\n      this.getData();\n    }\n    clientSelect(e) {\n      this.selectedClient = e;\n      this.getData();\n    }\n    programSelect(e) {\n      this.selectedProgram = e;\n      this.getData();\n    }\n    onDelete(workoutId) {\n      this.isLoading = true;\n      this.workoutService.deleteWorkout(workoutId).subscribe(() => {\n        this.workoutService.getWorkouts(this.workoutsPerPage, this.currentPage, 'all', 'all', 'all');\n      });\n    }\n  }\n  WorkoutsComponent.ɵfac = function WorkoutsComponent_Factory(t) {\n    return new (t || WorkoutsComponent)(i0.ɵɵdirectiveInject(i1.WorkoutsService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ClientsService), i0.ɵɵdirectiveInject(i4.ProgramsService));\n  };\n  WorkoutsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: WorkoutsComponent,\n    selectors: [[\"app-workouts\"]],\n    decls: 38,\n    vars: 11,\n    consts: [[4, \"ngIf\"], [1, \"d-flex\", \"justify-content-between\", \"m-2\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"routerLink\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"routerLink\", \"/workout\", \"routerLinkActive\", \"mat-accent\"], [1, \"m-2\"], [1, \"d-flex\", \"justify-content-between\"], [\"placeholder\", \"\", 3, \"ngModel\", \"ngModelChange\", \"valueChange\"], [\"value\", \"all\"], [\"value\", \"client\"], [\"value\", \"program\"], [\"placeholder\", \"Clients\", 3, \"ngModel\", \"ngModelChange\", \"valueChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"placeholder\", \"programs\", 3, \"ngModel\", \"ngModelChange\", \"valueChange\"], [\"class\", \"example-headers-align\", \"multi\", \"true\", 4, \"ngIf\"], [3, \"length\", \"pageSize\", \"pageSizeOptions\", \"page\", 4, \"ngIf\"], [\"class\", \"info-text mat-body-1\", 4, \"ngIf\"], [3, \"value\"], [\"multi\", \"true\", 1, \"example-headers-align\"], [4, \"ngFor\", \"ngForOf\"], [\"mat-button\", \"\", \"color\", \"primary\", 3, \"routerLink\"], [\"mat-button\", \"\", \"color\", \"warn\", 3, \"click\"], [3, \"length\", \"pageSize\", \"pageSizeOptions\", \"page\"], [1, \"info-text\", \"mat-body-1\"]],\n    template: function WorkoutsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, WorkoutsComponent_mat_spinner_0_Template, 1, 0, \"mat-spinner\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"button\", 2);\n        i0.ɵɵtext(3, \"Back\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"button\", 3);\n        i0.ɵɵtext(5, \" Create Workout\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"mat-card\", 4)(7, \"mat-card-header\")(8, \"mat-card-title\");\n        i0.ɵɵtext(9, \" Filters\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"mat-card-content\", 5)(11, \"mat-form-field\")(12, \"mat-label\");\n        i0.ɵɵtext(13, \"Workout Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"mat-select\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function WorkoutsComponent_Template_mat_select_ngModelChange_14_listener($event) {\n          return ctx.workoutType = $event;\n        })(\"valueChange\", function WorkoutsComponent_Template_mat_select_valueChange_14_listener($event) {\n          return ctx.workoutTypeSelect($event);\n        });\n        i0.ɵɵelementStart(15, \"mat-option\", 7);\n        i0.ɵɵtext(16, \"All\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"mat-option\", 8);\n        i0.ɵɵtext(18, \"Clients\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"mat-option\", 9);\n        i0.ɵɵtext(20, \"Programs\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(21, \"mat-form-field\")(22, \"mat-label\");\n        i0.ɵɵtext(23, \"Clients\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"mat-select\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function WorkoutsComponent_Template_mat_select_ngModelChange_24_listener($event) {\n          return ctx.selectedClient = $event;\n        })(\"valueChange\", function WorkoutsComponent_Template_mat_select_valueChange_24_listener($event) {\n          return ctx.clientSelect($event);\n        });\n        i0.ɵɵelementStart(25, \"mat-option\", 7);\n        i0.ɵɵtext(26, \"All\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(27, WorkoutsComponent_mat_option_27_Template, 2, 4, \"mat-option\", 11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"mat-form-field\")(29, \"mat-label\");\n        i0.ɵɵtext(30, \"Programs\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"mat-select\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function WorkoutsComponent_Template_mat_select_ngModelChange_31_listener($event) {\n          return ctx.selectedProgram = $event;\n        })(\"valueChange\", function WorkoutsComponent_Template_mat_select_valueChange_31_listener($event) {\n          return ctx.programSelect($event);\n        });\n        i0.ɵɵelementStart(32, \"mat-option\", 7);\n        i0.ɵɵtext(33, \"All\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(34, WorkoutsComponent_mat_option_34_Template, 2, 2, \"mat-option\", 11);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(35, WorkoutsComponent_mat_accordion_35_Template, 2, 1, \"mat-accordion\", 13);\n        i0.ɵɵtemplate(36, WorkoutsComponent_mat_paginator_36_Template, 1, 3, \"mat-paginator\", 14);\n        i0.ɵɵtemplate(37, WorkoutsComponent_p_37_Template, 2, 0, \"p\", 15);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(10, _c1));\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngModel\", ctx.workoutType);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedClient);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.users);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedProgram);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.programs);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.workouts.length > 0 && !ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.workouts.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.workouts.length <= 0 && !ctx.isLoading);\n      }\n    },\n    dependencies: [i5.NgForOf, i5.NgIf, i6.RouterLink, i6.RouterLinkActive, i7.NgControlStatus, i7.NgModel, i8.MatFormField, i8.MatLabel, i9.MatCard, i9.MatCardContent, i9.MatCardHeader, i9.MatCardTitle, i10.MatAnchor, i10.MatButton, i11.MatAccordion, i11.MatExpansionPanel, i11.MatExpansionPanelActionRow, i11.MatExpansionPanelHeader, i11.MatExpansionPanelTitle, i11.MatExpansionPanelDescription, i12.MatProgressSpinner, i13.MatPaginator, i14.MatSelect, i15.MatOption, i5.DatePipe],\n    styles: [\".example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}\"]\n  });\n  return WorkoutsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}