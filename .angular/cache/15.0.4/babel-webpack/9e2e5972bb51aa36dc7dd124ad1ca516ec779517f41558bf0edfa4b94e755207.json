{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/auth/auth.service\";\nimport * as i2 from \"./clients.service\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/expansion\";\nimport * as i8 from \"@angular/material/progress-spinner\";\nimport * as i9 from \"@angular/material/paginator\";\nfunction ClientsComponent_mat_spinner_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\");\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/editClient\", a1];\n};\nfunction ClientsComponent_mat_accordion_6_mat_expansion_panel_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-expansion-panel\")(1, \"mat-expansion-panel-header\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\")(4, \"strong\");\n    i0.ɵɵtext(5, \" Email: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\")(8, \"strong\");\n    i0.ɵɵtext(9, \"Role:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"mat-action-row\")(12, \"a\", 10);\n    i0.ɵɵtext(13, \"EDIT\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ClientsComponent_mat_accordion_6_mat_expansion_panel_1_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const user_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      const _r4 = i0.ɵɵreference(10);\n      return i0.ɵɵresetView(ctx_r8.openDelete(_r4, user_r7));\n    });\n    i0.ɵɵtext(15, \"DELETE\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", user_r7.firstName, \" \", user_r7.lastName, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", user_r7.email, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", user_r7.role, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(5, _c0, user_r7[\"id\"]));\n  }\n}\nfunction ClientsComponent_mat_accordion_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-accordion\", 8);\n    i0.ɵɵtemplate(1, ClientsComponent_mat_accordion_6_mat_expansion_panel_1_Template, 16, 7, \"mat-expansion-panel\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.users);\n  }\n}\nfunction ClientsComponent_mat_paginator_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-paginator\", 12);\n    i0.ɵɵlistener(\"page\", function ClientsComponent_mat_paginator_7_Template_mat_paginator_page_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onChangedPage($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"length\", ctx_r2.totalUsers)(\"pageSize\", ctx_r2.usersPerPage)(\"pageSizeOptions\", ctx_r2.pageSizeOptions);\n  }\n}\nfunction ClientsComponent_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1, \"No Posts Added Yet\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientsComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \" Are you sure you want to delete this Client?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 14)(5, \"button\", 15);\n    i0.ɵɵtext(6, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ClientsComponent_ng_template_9_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const data_r12 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.onDelete(data_r12.user.id));\n    });\n    i0.ɵɵtext(8, \"Delete\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const data_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" Delete \", data_r12.user.firstName, \" \", data_r12.user.lastName, \" \");\n  }\n}\nconst _c1 = function () {\n  return [\"/fitness\"];\n};\nexport let ClientsComponent = /*#__PURE__*/(() => {\n  class ClientsComponent {\n    constructor(authService, clientService, dialog) {\n      this.authService = authService;\n      this.clientService = clientService;\n      this.dialog = dialog;\n      this.users = [];\n      this.isLoading = false;\n      this.totalUsers = 0;\n      this.usersPerPage = 5;\n      this.currentPage = 1;\n      this.pageSizeOptions = [1, 2, 5, 10];\n      this.userIsAuthenticated = false;\n      this.userIsAdmin = false;\n    }\n    ngOnInit() {\n      this.isLoading = true;\n      this.clientService.getUsers(this.usersPerPage, this.currentPage);\n      this.usersSub = this.clientService.getUserUpdatedListener().subscribe(userData => {\n        this.isLoading = false;\n        this.totalUsers = userData.userCount;\n        this.users = userData.users;\n      });\n      this.userIsAuthenticated = this.authService.getIsAuth();\n      this.authStatusSub = this.authService.getAuthStatusListener().subscribe(isAuthenticated => {\n        this.userIsAuthenticated = isAuthenticated;\n        this.userId = this.authService.getUserId();\n      });\n    }\n    toggleAdmin(event) {\n      console.error(event.value);\n      this.users['role'] = event.value;\n      console.error(this.users['role']);\n    }\n    onChangedPage(pageData) {\n      this.isLoading = true;\n      this.currentPage = pageData.pageIndex + 1;\n      this.usersPerPage = pageData.pageSize;\n      this.clientService.getUsers(this.usersPerPage, this.currentPage);\n    }\n    openDelete(templateRef, user) {\n      console.error(user);\n      let dialogRef = this.dialog.open(templateRef, {\n        data: {\n          user: user\n        }\n      });\n    }\n    onDelete(userId) {\n      this.isLoading = true;\n      this.clientService.deletePost(userId).subscribe(() => {\n        this.clientService.getUsers(this.usersPerPage, this.currentPage);\n        this.dialog.closeAll();\n      });\n    }\n  }\n  ClientsComponent.ɵfac = function ClientsComponent_Factory(t) {\n    return new (t || ClientsComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.ClientsService), i0.ɵɵdirectiveInject(i3.MatDialog));\n  };\n  ClientsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ClientsComponent,\n    selectors: [[\"app-clients\"]],\n    decls: 11,\n    vars: 6,\n    consts: [[4, \"ngIf\"], [1, \"d-flex\", \"justify-content-between\", \"m-2\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"routerLink\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"routerLink\", \"/client\", \"routerLinkActive\", \"mat-accent\"], [\"multi\", \"true\", 4, \"ngIf\"], [3, \"length\", \"pageSize\", \"pageSizeOptions\", \"page\", 4, \"ngIf\"], [\"class\", \"info-text mat-body-1\", 4, \"ngIf\"], [\"template\", \"\"], [\"multi\", \"true\"], [4, \"ngFor\", \"ngForOf\"], [\"mat-button\", \"\", \"color\", \"primary\", 3, \"routerLink\"], [\"mat-button\", \"\", \"color\", \"warn\", 3, \"click\"], [3, \"length\", \"pageSize\", \"pageSizeOptions\", \"page\"], [1, \"info-text\", \"mat-body-1\"], [1, \"d-flex\", \"justify-content-between\"], [\"mat-raised-button\", \"\", \"mat-dialog-close\", \"\"], [\"mat-raised-button\", \"\", \"color\", \"danger\", 3, \"click\"]],\n    template: function ClientsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ClientsComponent_mat_spinner_0_Template, 1, 0, \"mat-spinner\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"button\", 2);\n        i0.ɵɵtext(3, \"Back\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"button\", 3);\n        i0.ɵɵtext(5, \" Create Client\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(6, ClientsComponent_mat_accordion_6_Template, 2, 1, \"mat-accordion\", 4);\n        i0.ɵɵtemplate(7, ClientsComponent_mat_paginator_7_Template, 1, 3, \"mat-paginator\", 5);\n        i0.ɵɵtemplate(8, ClientsComponent_p_8_Template, 2, 0, \"p\", 6);\n        i0.ɵɵtemplate(9, ClientsComponent_ng_template_9_Template, 9, 2, \"ng-template\", null, 7, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(5, _c1));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.users.length > 0 && !ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.users.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.users.length <= 0 && !ctx.isLoading);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.RouterLink, i5.RouterLinkActive, i6.MatAnchor, i6.MatButton, i7.MatAccordion, i7.MatExpansionPanel, i7.MatExpansionPanelActionRow, i7.MatExpansionPanelHeader, i8.MatProgressSpinner, i9.MatPaginator, i3.MatDialogClose]\n  });\n  return ClientsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}